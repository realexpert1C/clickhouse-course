# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ 15 - –®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìÑ –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è

> –®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
>
> **–¶–µ–ª—å:**
> - —à–∞—Ä–¥–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –∏–Ω—Å—Ç–∞–Ω—Å;
>
> **–û–ø–∏—Å–∞–Ω–∏–µ / —à–∞–≥–∏:**
> 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ N —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ clickhouse-server.
> 2. –û–ø–∏—à–∏—Ç–µ –¥–≤–µ –∏–ª–∏ –±–æ–ª–µ–µ —Ç–æ–ø–æ–ª–æ–≥–∏–π –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤ —à–∞—Ä–¥—ã, —É–∫–∞–∑–∞–≤ —Ñ–∞–∫—Ç–æ—Ä —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–¥–æ–≤.
> 3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ xml-—Å–µ–∫—Ü–∏—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
> 4. —Å–æ–∑–¥–∞—Ç—å DISTRIBUTED-—Ç–∞–±–ª–∏—Ü—É –Ω–∞ –∫–∞–∂–¥—É—é –∏–∑ —Ç–æ–ø–æ–ª–æ–≥–∏–π. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–∞–±–ª–∏—Ü—É system.one —Å–æ–¥–µ—Ä–∂–∞—â—É—é –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É dummy —Ç–∏–ø–∞ UInt8, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.
>    ```sql
>    SELECT getMacro('replica'), *
>    FROM remote('replica1,replica2,replica3', system.parts)
>    FORMAT JSONEachRow;
>
>    SELECT * FROM system.replicas
>    FORMAT JSONEachRow;
>    ```
>–∏–ª–∏ 5. –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ SELECT *,hostName(),_shard_num from distributed-table –¥–ª—è –∫–∞–∂–¥–æ–π distributed-—Ç–∞–±–ª–∏—Ü—ã, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å group by –∏ limit –ø–æ –≤–∫—É—Å—É –µ—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ.
>   
> –∏–ª–∏ 5. –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å SELECT * FROM system.clusters; SHOW CREATE TABLE –¥–ª—è –∫–∞–∂–¥–æ–π Distributed-—Ç–∞–±–ª–∏—Ü—ã.
>
> **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:**
> –ó–∞–¥–∞–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —ç–∫–∑–µ–º–ø–ª—è—Ä—ã ClickHouse, —Å–æ–∑–¥–∞–Ω—ã —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã DISTRIBUTED-—Ç–∞–±–ª–∏—Ü—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.