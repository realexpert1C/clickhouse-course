# üìä –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã ClickHouse –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞

–í ClickHouse –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ `system`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞, –∑–∞–ø—Ä–æ—Å–∞—Ö, —Ä–µ—Å—É—Ä—Å–∞—Ö –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.

## üîç –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

### `system.parts`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö –ø–∞—Ä—Ç–∏—Ü–∏—è—Ö —Ç–∞–±–ª–∏—Ü.
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫—É—Å–∫–æ–≤ (parts), —Ä–∞–∑–º–µ—Ä, —Å—Ç–∞—Ç—É—Å.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü.

### `system.merges`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ñ–æ–Ω–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–ª–∏—è–Ω–∏—è –∫—É—Å–∫–æ–≤ (merges).
- –í–∞–∂–Ω–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–≤–∏–∂–∫–∞ MergeTree.

### `system.replication_queue`
- –ê–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è —Ç–∞–±–ª–∏—Ü ReplicatedMergeTree.
- –°–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–¥–∞–Ω–∏—è –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫, –∏—Ö —Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—à–∏–±–∫–∏.

### `system.replication_alter_columns_queue`
- –û—á–µ—Ä–µ–¥—å –æ–ø–µ—Ä–∞—Ü–∏–π `ALTER TABLE` –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.
- –£–¥–æ–±–Ω–æ –ø—Ä–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º.

### `system.query_log`
- –õ–æ–≥ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é TTL 7 –¥–Ω–µ–π).
- –í–∫–ª—é—á–∞–µ—Ç:
  - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  - –¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞
  - –ö–æ–ª-–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö/–∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∏ –±–∞–π—Ç
  - –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### `system.text_log` –∏ `system.trace_log`
- `text_log`: —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–≥–µ—Ä–∞ (—É—Ä–æ–≤–Ω–∏ INFO, WARNING, ERROR).
- `trace_log`: —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (stack traces), –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏—è—Ö –∏ –¥–æ–ª–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

### `system.metric_log`
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π ClickHouse:
  - –ó–∞–≥—Ä—É–∑–∫–∞ CPU
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–µ—Ç—Ä–∏–∫–∞–º Prometheus.

### `system.processes`
- –ê–∫—Ç–∏–≤–Ω—ã–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å—ã.
- –ü–æ–ª—è: query_id, user, –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞, —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫/–±–∞–π—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.

### `system.asynchronous_metrics`
- –ú–µ—Ç—Ä–∏–∫–∏, –æ–±–Ω–æ–≤–ª—è—é—â–∏–µ—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ.
- –ü—Ä–∏–º–µ—Ä: usage of memory, page cache, disk I/O.

### `system.events`
- –°—á—ë—Ç—á–∏–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã–∑–≤–∞–Ω insert, select, –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏.
- –ú–æ–∂–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞.

## üõ† –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```sql
SELECT query_id, query, elapsed, read_rows, memory_usage
FROM system.processes
ORDER BY elapsed DESC;